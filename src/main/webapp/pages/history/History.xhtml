<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
>
<h:head>
   <f:facet name="first">
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta
              name="viewport"
              content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
      />
      <meta name="apple-mobile-web-app-capable" content="yes" />

      <h:outputStylesheet
              name="primeflex/3.3.1/primeflex.css"
              library="webjars"
      />
   </f:facet>
   <script type="text/javascript">
      function showFormDialog1() {
         PF("formDialog1").show();
      }

      function closeFormDialog1() {
         PF("formDialog1").close();
      }

      function showFormDialog2() {
         PF("formDialog2").show();
      }

      function closeFormDialog2() {
         PF("formDialog2").close();
      }


   </script>
   <style>
      .card-container {
         display: flex;
         flex-wrap: wrap;
         justify-content: space-between;
         margin-top: 20px;
      }

      .card {
         width: 500px;
         background-color: #f4fafe;
         border-radius: 10px;
         padding: 20px;
         box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
         transition: transform 0.3s;
      }

      .card:hover {
         transform: translateY(-5px);
      }

      .container {
         margin: 5px auto;
         width: auto;
         padding: 20px;
         background-color: #fff;
         border-radius: 10px;
         /*box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);*/
         text-align: center;
         margin-right: 10px;
      }

      .img {
         width: 70px;
         height: 70px;
         margin-bottom: 10px;
      }

      .logo {
         width: auto;
         height: auto;
         margin: 0 auto;
         display: block;
      }
      * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
         font-family: "Poppins", sans-serif;
      }

      .header {
         width: 100%;
         height: 100vh;
         background: #f5f5f5;
      }

      .side-nav {
         width: 250px;
         height: 130%;
         background-color: #f4fafe;
         position: fixed;
         top: 0;
         left: 0;
         padding: 20px 30px;
         box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
      }

      .logo {
         display: block;
         margin-bottom: 10px;
      }

      .logo-img {
         width: 170px;
         margin-top: 20px;
      }
      .nav-image {
         width: 30px;
         height: 30px;
      }

      .nav-links {
         list-style: none;
         position: relative;
      }

      .nav-links li {
         padding: 10px 0;
      }

      .nav-links li a {
         color: #000000;
         text-decoration: none;
         padding: 10px 14px;
         display: flex;
         align-items: center;
      }

      .nav-links li a i {
         font-size: 22px;
         margin-right: 20px;
      }

      .active {
         background: #7c7a7a;
         width: 100%;
         height: 47px;
         position: absolute;
         left: 0;
         top: 2.6%;
         z-index: -1;
         border-radius: 6px;
         box-shadow: 0 5px 10px rgba(255, 255, 255, 0.4);
         display: none;
         transition: top 0.5s;
      }

      .nav-links li:hover a {
         color: darkblue;
         transition: 0.3s;
      }

      .nav-links li:hover ~ .active {
         display: block;
      }

      .nav-links li:nth-child(1):hover ~ .active {
         top: 2.6%;
      }

      .nav-links li:nth-child(2):hover ~ .active {
         top: 19.2%;
      }

      .nav-links li:nth-child(3):hover ~ .active {
         top: 35.8%;
      }

      .nav-links li:nth-child(4):hover ~ .active {
         top: 52.4%;
      }

      .nav-links li:nth-child(5):hover ~ .active {
         top: 69%;
      }

      .nav-links li:nth-child(6):hover ~ .active {
         top: 85.6%;
      }
   </style>
</h:head>
<h:body>


   <div class="container" style="background-color: white; width: 1200px">
      <h:form style="background-color: white">
         <p:menubar style="background-color: white">
            <f:facet name="options">
               <div class="ui-input-icon-left mr-2">
                  <i class="pi pi-fw pi-search" />
                  <p:inputText placeholder="Search" />
               </div>
            </f:facet>

            <p:submenu
                    label="#{loginForm.currentUser.name}"
                    icon="pi pi-fw pi-user"
                    style="float: right"
            >
               <p:menuitem value="change password" icon="pi pi-fw pi-user-plus" />
               <p:menuitem value="Report Issue" icon="" />
            </p:submenu>
         </p:menubar>
      </h:form>
   </div>
   <div class="side-nav">
      <div style="position: sticky">
         <a href="#" class="logo">
            <h:graphicImage
                    url="/resources/images/logo.png"
                    styleClass="logo-img"
            />
         </a>
         <ul class="nav-links">
            <li>
               <p:link outcome="/pages/dashboard/Dashboard.xhtml">
                  <h:graphicImage
                          url="/resources/images/home.png"
                          styleClass="nav-image"
                  />
                  <p style="padding-left: 8px">HOME</p>
               </p:link>
            </li>
            <li>
               <p:link outcome="/pages/loan/Loan.xhtml">
                  <h:graphicImage
                          url="/resources/images/loan.png"
                          styleClass="nav-image"
                  />
                  <p style="padding-left: 8px">APPLY FOR LOAN</p>
               </p:link>
            </li>
            <li>
               <p:link outcome="/pages/transaction/Transaction.xhtml">
                  <h:graphicImage
                          url="/resources/images/transaction.png"
                          styleClass="nav-image"
                  />
                  <p style="padding-left: 8px">TRANSACTIONS</p>
               </p:link>
            </li>
            <li>
               <p:link outcome="/pages/account/Account.xhtml">
                  <h:graphicImage
                          url="/resources/images/account.png"
                          styleClass="nav-image"
                  />
                  <p style="padding-left: 8px">MY ACCOUNT</p>
               </p:link>
            </li>
            <li>
               <p:link outcome="/pages/history/History.xhtml">
                  <h:graphicImage
                          url="/resources/images/History.png"
                          styleClass="nav-image"
                  />
                  <p style="padding-left: 8px">HISTORY</p>
               </p:link>
            </li>
            <li>
               <p:commandLink action="#{loginForm.doLogout()}">
                  <h:graphicImage
                          url="/resources/images/shutdown.png"
                          styleClass="nav-image"
                  />
                  <p style="padding-left: 8px">LOGOUT</p>
               </p:commandLink>
            </li>
            <li class="active"></li>
         </ul>
      </div>
   </div>

   <div class="container" style="position: relative; margin-left: 280px">

      <div style="margin-top: 50px; ">
         <h1 style="margin-bottom: 30px">APPROVED WITHDRAWS</h1>
         <h:form id="form1">
            <p:dataTable var="withdraw" value="#{transactionsBean.allWithDrawsOfUser}" widgetVar="WithdrawTable"
                         emptyMessage="No customers found with given criteria" id="WithdrawTable"
                         paginator="true"
                         rows="5"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5,10,15"
                         currentPageReportTemplate="Showing {startRecord}-{endRecord} out of {totalRecords}"
                         paginatorPosition="bottom"
            >

               <f:facet name="header">
                  <div class="flex justify-content-end">
                     <p:inputText id="global" onkeyup="PF('WithdrawTable').filter()" style="width:300px"
                                  placeholder="Search all fields using global function" />
                  </div>
               </f:facet>

               <p:column headerText="Method" sortBy="#{withdraw.method}">

                  <h:outputText style="vertical-align: middle; margin-left: 2px" value="#{withdraw.method}" />
               </p:column>

               <p:column headerText="Date/time" sortBy="#{withdraw.dateCreated}">

                  <h:outputText style="vertical-align: middle; margin-left: 2px" value="#{withdraw.dateCreated}" />
               </p:column>


               <p:column  headerText="Status" filterable="false">
                  <span >#{withdraw.status}</span>
               </p:column>

               <p:column  headerText="Amount" filterable="false">
                  <span>#{withdraw.amount}</span>
               </p:column>
               <p:column headerText="Action" filterable="false" >
                  <p:growl id="messages" showDetail="true" />
                  <p:commandButton update="messages"  value="Withdraw" styleClass="p-button-rounded p-button-success" action="#{transactionsBean.ConfirmedWithdraw(withdraw)}" />
               </p:column>
               <p:messages />

            </p:dataTable>
         </h:form>
      </div>

      <!--table to show all transactions-->
      <div style="margin-top: 50px; ">
         <h2 style="margin-bottom: 30px">ALL MY TRANSACTIONS</h2>
         <h:form id="form2">
            <p:dataTable var="transactions" value="#{transactionsBean.allUserTransactions}" widgetVar="AllUserTable"
                         emptyMessage="No customers found with given criteria" id="AllUserTable"
                         paginator="true"
                         rows="5"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5,10,15"
                         currentPageReportTemplate="Showing {startRecord}-{endRecord} out of {totalRecords}"
                         paginatorPosition="bottom"
            >

               <f:facet name="header">
                  <div class="flex justify-content-end">
                     <p:inputText id="global1" onkeyup="PF('transactionTable').filter()" style="width:300px"
                                  placeholder="Search all fields using global function" />
                  </div>
               </f:facet>

               <p:column headerText="Transaction Type" sortBy="#{transactions.type}" >
                  <h:outputText style="vertical-align: middle; margin-left: 2px" value="#{transactions.type}" />
               </p:column>

               <p:column headerText="Method" sortBy="#{transactions.method}">

                  <h:outputText style="vertical-align: middle; margin-left: 2px" value="#{transactions.method}" />
               </p:column>

               <p:column headerText="Date/time" sortBy="#{transactions.dateCreated}">

                  <h:outputText style="vertical-align: middle; margin-left: 2px" value="#{transactions.dateCreated}" />
               </p:column>


               <p:column  headerText="Status" filterable="false">
                  <span >#{transactions.status}</span>
               </p:column>

               <p:column  headerText="Amount" filterable="false">
                  <span>#{transactions.amount}</span>
               </p:column>

            </p:dataTable>
         </h:form>
      </div>

      <p:fieldset
              legend="ABOUT US"
              toggleable="true"
              toggleSpeed="500"
              style="
          width: auto;
          margin-left: 30px;
          margin-top: 40px;
          background-color: black;
          color: white;
        "
      >
         <p:ajax event="toggle" />
         <p class="m-0">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
            minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat. Duis aute irure dolor in
            reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
            pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
            culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum
            dolor sit amet, consectetur adipisicing elit. Inventore sed
            consequuntur error repudiandae numquam deserunt quisquam repellat
            libero asperiores earum nam nobis, culpa ratione quam perferendis
            esse, cupiditate neque quas! Lorem ipsum dolor sit amet, consectetur
            adipisicing elit. Inventore sed consequuntur error repudiandae numquam
            deserunt quisquam repellat libero asperiores earum nam nobis, culpa
            ratione quam perferendis esse, cupiditate neque quas! Lorem ipsum
            dolor sit amet, consectetur adipisicing elit. Inventore sed
            consequuntur error repudiandae numquam deserunt quisquam repellat
            libero asperiores earum nam nobis, culpa ratione quam perferendis
            esse, cupiditate neque quas!Lorem ipsum dolor sit amet, consectetur
            adipisicing elit. Inventore sed consequuntur error repudiandae numquam
            deserunt quisquam repellat libero asperiores earum nam nobis, culpa
            ratione quam perferendis esse, cupiditate neque quas!
         </p>
      </p:fieldset>
   </div>
</h:body>
</html>
